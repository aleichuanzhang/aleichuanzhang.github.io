/* jl.js Date:2017-03-10 09:30:08 */
define("jl.js",["vue.js","filter.js"],function(require,a,b){require("vue.js");var c=require("filter.js");document.getElementById("jbxx");var e={_init:function(){c.filter(),e.chuchai(),localStorage.getItem("resumeData")?(e.localStorage(),$(".father").hide("slow")):e.render(),e.tianjia()},render:function(){$.ajax({url:"/zhaoxiao/data.json",dataType:"JSON",type:"get"}).done(function(a){$(".father").hide("slow"),e.view(a),e.local(a)})},localStorage:function(){var a=localStorage.getItem("resumeData");var b=decodeURIComponent(a);var c=$.parseJSON(b);e.view(c)},local:function(a){var b=JSON.stringify(a);localStorage.setItem("resumeData",encodeURIComponent(b))},tianjia:function(){var a=/^1[3|4|5|7|8]{1}[0-9]{9}$/;var b=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;$("#test").blur(function(){var b=$(this).val();a.test(b)?$(this).removeClass("error"):(alert("\u8bf7\u8f93\u5165\u6b63\u786e\u7535\u8bdd\u53f7\u7801"),$(this).addClass("error"))}),$("#test1").blur(function(){var a=$(this).val();b.test(a)?$(this).removeClass("error"):(alert("\u8bf7\u8f93\u5165\u6b63\u786e\u90ae\u7bb1"),$(this).addClass("error"))}),$("#jbxx").on("click",".baocun",function(){var a=document.getElementById("ri").getElementsByTagName("em");for(var b=0,c=a.length;c>b;b++)$("#ri em").eq(b).attr("baocun")==$(this).attr("baocun")&&($("#ri em").eq(b).show("slow"),$("#ri div").eq(b).css("color","#666"))})},_ifWork:function(a,b,c,d,e){var f=a.decide[b];f.isA=c,f.isB=d,f.isC=e},select:function(){},view:function(a){var b={resume:a,decide:{base:{isA:!0,isB:!1},zhengshu:{isA:!0,isB:!1,isC:!0},"int":{isA:!0,isB:!0,isC:!1},image:{isA:!0,isB:!0,isC:!1},work:{isA:!0,isB:!1,isC:!0},education:{isA:!0,isB:!1,isC:!0},lag:{isA:!0,isB:!1,isC:!0}},expItem:{}};function c(a,c){if(b.resume[a].length>0){var d=b.decide[c];d.isB=!0,d.isC=!1}}c("work_history","work"),c("language","lag"),c("certificate","zhengshu"),c("train","education");function d(a,c){if(b.resume[a].length<=0){var d=b.decide[c];d.isA=!0,d.isB=!1,d.isC=!0}}new Vue({el:"#jbxx",data:b,methods:{addint:function(a){e._ifWork(this,a,!1,!0,!0),this.expNum=-1},saveint:function(a){e._ifWork(this,a,!0,!0,!1),e.local(this.resume)},editint:function(a){e._ifWork(this,a,!1,!0,!0),this.expNum=1},cancelint:function(a){-1==this.expNum?e._ifWork(this,a,!0,!1,!0):1==this.expNum&&e._ifWork(this,a,!0,!0,!1)},editBase:function(a,b){var c=a.currentTarget;var d=$(c).parents(".jbxx");d.find(".dak").show("slow"),d.find("."+b).hide("slow"),d.find(".bianji1").hide("slow")},saveBase:function(a,b){var c=a.currentTarget;var d=$(c).parents(".jbxx");d.find(".dak").hide("slow"),d.find("."+b).show("slow"),d.find(".bianji1").show("slow"),e.local(this.resume)},cancelBase:function(a,b){var c=a.currentTarget;var d=$(c).parents(".jbxx");d.find(".dak").hide("slow"),d.find("."+b).show("slow"),d.find(".bianji1").show("slow")},addWork:function(a,b){this.expNum=a,e._ifWork(this,b,!1,!0,!0),this.expItem={}},saveWork:function(a,b,c){e._ifWork(this,b,!0,!0,!1);var d=this.resume[c];this.expNum<0?d.push(a):this.resume[c][this.expNum]=a,$.ajax({url:"/html/data/data.json",dataType:"JSON",type:"get",data:{id:"126",abs:this.resume}}),e.local(this.resume)},editWork:function(a,b,c,d){var f=JSON.stringify(c);seajs.use("cookie.js",function(a){a("work-item",f)}),this.expNum=d,this.expItem=c,e._ifWork(this,b,!1,!0,!0)},delWork:function(a,b,c){this.resume[c].splice(a,1),e._ifWork(this,b,!0,!0,!1),d("work_history","work"),d("language","lag"),d("certificate","zhengshu"),d("train","education")},cancelWork:function(a,b){if(-99==this.expNum)e._ifWork(this,b,!0,!1,!0);else if(-100==this.expNum)e._ifWork(this,b,!0,!0,!1);else{e._ifWork(this,b,!0,!0,!1);var c=this.expNum;var d=this.resume[a];seajs.use("cookie.js",function(a){var b=$.parseJSON(a("work-item"));d.splice(c,1,b)})}},upload:function(a){a.currentTarget;console.log(a.currentTarget)}}})},chuchai:function(){$(".chuchai").click(function(){$(this).toggleClass("meigou")}),$.each($(".chuchai"),function(){0==$(this).parents("label").find("input").prop("checked")&&$(this).addClass("meigou")}),$(".guanli").click(function(){$(this).toggleClass("guanli1"),$(this).hasClass("guanli1")?$(this).next("textarea").hide("slow"):$(this).next("textarea").show("slow")})}};b.exports={init:e._init}});
