<!DOCTYPE html>                                                  
<html>
<head>
    <meta charset="UTF-8">
    <title>机票</title>
    <meta name="keywords" content="新航路师徒学院、js、web"/>
    <meta name="description" content="新航路师徒学院"/>
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <Link rel="stylesheet" type="text/css" href="/css/jipiao.css"/>
    <!--[if lt IE 9]>
    <script src="http://fe.xhanglu.com/lib/js/html5.js"></script>
    <![endif]-->	
</head>
<body>
<div class="m">
    <h2 class="clearfix">
        <span>北京</span><em></em><span>温哥华</span><i>(已加载56个航班信息，正在努力加载剩余航班信息)</i>
    </h2>
    <div class="btn btinn clearfix" id="btn">
        <a class="moren" href="javascript:;">默认排序</a>
        <a href="javascript:;"><span>起飞时间</span><em><i></i><b></b></em></a>
        <a href="javascript:;"><span>到达时间</span><em><i></i><b></b></em></a>
        <a href="javascript:;"><span>形成总时长</span><em><i></i><b></b></em></a>
        <a href="javascript:;"><span>机票价格</span><em><i></i><b></b></em></a>
    </div>
    <ul id="box">
        <li time="10，30" price="3950" class="clearfix"><span>南方航空CZ6414</span><em>10:30</em><i>12:30</i><var>2小时</var><b>&yen;3950起</b></li>
        <li time="8，30" price="4050" class="clearfix"><span>南方航空CZ4919</span><em>8:30</em><i>12:30</i><var>4小时</var><b>&yen;4050起</b></li>
        <li time="2，30" price="20" class="clearfix"><span>北方航空CZ6414</span><em>2:30</em><i>1:30</i><var>23小时</var><b>&yen;20起</b></li>
        <li time="14，30" price="40" class="clearfix"><span>海南航空CZ6414</span><em>14:30</em><i>12:30</i><var>22小时</var><b>&yen;40起</b></li>
        <li time="14，20" price="30.6" class="clearfix"><span>西方航空CZ6414</span><em>14:20</em><i>16:30</i><var>2小时10分</var><b>&yen;30.6起</b></li>
        <li time="6，30" price="10000.26" class="clearfix"><span>不知道方航空CZ6414</span><em>6:30</em><i>12:30</i><var>6小时</var><b>&yen;10000.26起</b></li>
    </ul>
    <ol id="ol">
        <li>1</li>
        <li>11</li>
        <li>16</li>
        <li>13</li>
        <li>41</li>
        <li>21</li>
    </ol>
</div>
<script type="text/javascript">
// function removeClass(id,name){
    var odiv = document.getElementById('btn');

    // var oclass = odiv.attributes.class.nodeValue;
    // var oclass1 = odiv.getAttribute('class');
    // 
    // 
    var oclass1 = odiv.getAttribute('class');
    // oclass1.removeAttribute('btn');
    // console.log(typeof odiv.className)
    arr = oclass1.split(' ');
    // console.log(arr instanceof Array);
    // console.log(arr)
    arr.splice(2,1);
    // console.log(arr)
    var Srr = arr.join(' ');
    // console.log(Srr)
    odiv.className = Srr ;
    // oclsss1 += 'btn';
    // odiv.className += 'btn';
    // oclass1.className -= ' ';
// }
// removeClass('btn','btn');
// var oBtn = document.getElementById('btn');  
// var oBox = document.getElementById('box'); 
// var oem = oBox.getElementsByTagName('em'); 
// var oli = oBox.getElementsByTagName('li'); 
// var oo = document.getElementById('ol').getElementsByTagName('li'); 
// oem[0].style.border = '1px red solid';
// var arr = [oem[0].innerHTML,oem[1].innerHTML,oem[2].innerHTML,oem[3].innerHTML,oem[4].innerHTML,oem[5].innerHTML]
// console.log(oem[0].innerHTML.charAt(0));
// // console.log(oem.charAt(0))

// arr.sort(function(a,b){
//        return a-b;
//    });
// document.write(arr+'</br>')
// var Sarr = [1,66,54,2,13,25]

// Sarr.sort(function(a,b){
//        return a-b;
//    });
// document.write(Sarr+'</br>')
// var liarr = [oo[0],oo[1],oo[2],oo[3],oo[4],oo[5]]
// liarr.sort(function(a,b){
//        return a-b;
//    });
function attr(obj, attr, value){
    if(arguments.length==2){
        if(obj.attributes[attr]){
            return obj.attributes[attr].nodeValue;
        }else{
            return null;
        }
    }
    else if(arguments.length==3){
        obj.setAttribute(attr,value);
    }
};
var divHd = document.getElementById('btn');
var divBd = document.getElementById('box');
var aLi1 = divHd.children;
var aLi2 = divBd.children;  
var bTrue = true;
function bijiao(obj,value){
   obj.onclick = function(){
        var arr = [];
        for(var i=0,len=aLi2.length;i<len;i++){
            // arr[i] = aLi2[i];
            arr.push(aLi2[i]);
        }
        arr.sort(function(li1,li2){
            if(bTrue){
                return parseInt(attr(li1,value))-parseInt(attr(li2,value));
            }else {
                return parseInt(attr(li2,value))-parseInt(attr(li1,value));
            }
        })
        // divBd.appendChild(arr[0]);
        for(var i=0;i<arr.length;i++){
             divBd.appendChild(arr[i]);
             // .cloneNode(true)
        }
        bTrue = !bTrue;
    } 
}
bijiao(aLi1[4],'price');
function bijiao1(value){
   aLi1[1].onclick = function(){
        var arr = [];
        for(var i=0,len=aLi2.length;i<len;i++){
            // arr[i] = aLi2[i];
            arr.push(aLi2[i]);
        }
        arr.sort(function(li1,li2){
            if(bTrue){
                return parseInt(attr(li1,value))-parseInt(attr(li2,value));
            }else {
                return parseInt(attr(li2,value))-parseInt(attr(li1,value));
            }
        })
        // divBd.appendChild(arr[0]);
        for(var i=0;i<arr.length;i++){
             divBd.appendChild(arr[i]);
             // .cloneNode(true)
        }
        bTrue = !bTrue;
    } 
}
bijiao1('time');

</script>
</body>
</html>